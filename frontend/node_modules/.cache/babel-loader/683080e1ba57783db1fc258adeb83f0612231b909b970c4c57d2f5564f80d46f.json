{"ast":null,"code":"// ðŸ”’ JWT í† í° ê´€ë¦¬ ìœ í‹¸ë¦¬í‹° (HTTP-Only Cookie ê¸°ë°˜)\nexport const TokenStorage = {\n  // ðŸ”’ HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì„¤ì •í•  ìˆ˜ ì—†ìŒ\n  // ì„œë²„ì—ì„œ ì„¤ì •ë˜ë¯€ë¡œ ì´ ë©”ì„œë“œë“¤ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ\n  setAccessToken: token => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” ì„œë²„ì—ì„œë§Œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.');\n  },\n  setRefreshToken: token => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” ì„œë²„ì—ì„œë§Œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.');\n  },\n  // ðŸ”’ HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ì—†ìŒ\n  // API í˜¸ì¶œì„ í†µí•´ í† í° ìœ íš¨ì„±ì„ í™•ì¸í•´ì•¼ í•¨\n  getAccessToken: () => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. API í˜¸ì¶œë¡œ ê²€ì¦í•˜ì„¸ìš”.');\n    return null;\n  },\n  getRefreshToken: () => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n    return null;\n  },\n  // ðŸ”’ ë¡œê·¸ì•„ì›ƒ ì‹œ ì„œë²„ APIë¥¼ í†µí•´ ì¿ í‚¤ ì‚­ì œ\n  clearTokens: async () => {\n    try {\n      const response = await fetch('/api/auth/logout', {\n        method: 'POST',\n        credentials: 'include' // ì¿ í‚¤ í¬í•¨\n      });\n      if (response.ok) {\n        console.log('ë¡œê·¸ì•„ì›ƒ ì„±ê³µ - ì¿ í‚¤ê°€ ì„œë²„ì—ì„œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n        return true;\n      } else {\n        console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨');\n        return false;\n      }\n    } catch (error) {\n      console.error('ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜:', error);\n      return false;\n    }\n  },\n  // ðŸ”’ API í˜¸ì¶œì„ í†µí•´ í† í° ìœ íš¨ì„± í™•ì¸\n  hasTokens: async () => {\n    try {\n      const response = await fetch('/api/auth/verify', {\n        method: 'GET',\n        credentials: 'include' // ì¿ í‚¤ í¬í•¨\n      });\n      return response.ok;\n    } catch (error) {\n      console.error('í† í° ê²€ì¦ ì¤‘ ì˜¤ë¥˜:', error);\n      return false;\n    }\n  },\n  // JWT í† í° íŒŒì‹± (payload ì¶”ì¶œ)\n  parseJWT: token => {\n    try {\n      const base64Url = token.split('.')[1];\n      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      const jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(''));\n      return JSON.parse(jsonPayload);\n    } catch (error) {\n      console.error('JWT íŒŒì‹± ì˜¤ë¥˜:', error);\n      return null;\n    }\n  },\n  // í† í° ë§Œë£Œ í™•ì¸\n  isTokenExpired: token => {\n    if (!token) return true;\n    const decoded = TokenStorage.parseJWT(token);\n    if (!decoded || !decoded.exp) return true;\n    const currentTime = Date.now() / 1000;\n    return decoded.exp < currentTime;\n  }\n};","map":{"version":3,"names":["TokenStorage","setAccessToken","token","console","warn","setRefreshToken","getAccessToken","getRefreshToken","clearTokens","response","fetch","method","credentials","ok","log","error","hasTokens","parseJWT","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","isTokenExpired","decoded","exp","currentTime","Date","now"],"sources":["/Users/kimseojin/Desktop/oAuth2Jwt/frontend/src/utils/tokenStorage.js"],"sourcesContent":["// ðŸ”’ JWT í† í° ê´€ë¦¬ ìœ í‹¸ë¦¬í‹° (HTTP-Only Cookie ê¸°ë°˜)\nexport const TokenStorage = {\n  // ðŸ”’ HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì„¤ì •í•  ìˆ˜ ì—†ìŒ\n  // ì„œë²„ì—ì„œ ì„¤ì •ë˜ë¯€ë¡œ ì´ ë©”ì„œë“œë“¤ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ\n  setAccessToken: (token) => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” ì„œë²„ì—ì„œë§Œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.');\n  },\n\n  setRefreshToken: (token) => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” ì„œë²„ì—ì„œë§Œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.');\n  },\n\n  // ðŸ”’ HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ì—†ìŒ\n  // API í˜¸ì¶œì„ í†µí•´ í† í° ìœ íš¨ì„±ì„ í™•ì¸í•´ì•¼ í•¨\n  getAccessToken: () => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. API í˜¸ì¶œë¡œ ê²€ì¦í•˜ì„¸ìš”.');\n    return null;\n  },\n\n  getRefreshToken: () => {\n    console.warn('HTTP-Only ì¿ í‚¤ëŠ” JavaScriptë¡œ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n    return null;\n  },\n\n  // ðŸ”’ ë¡œê·¸ì•„ì›ƒ ì‹œ ì„œë²„ APIë¥¼ í†µí•´ ì¿ í‚¤ ì‚­ì œ\n  clearTokens: async () => {\n    try {\n      const response = await fetch('/api/auth/logout', {\n        method: 'POST',\n        credentials: 'include' // ì¿ í‚¤ í¬í•¨\n      });\n      \n      if (response.ok) {\n        console.log('ë¡œê·¸ì•„ì›ƒ ì„±ê³µ - ì¿ í‚¤ê°€ ì„œë²„ì—ì„œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n        return true;\n      } else {\n        console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨');\n        return false;\n      }\n    } catch (error) {\n      console.error('ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜:', error);\n      return false;\n    }\n  },\n\n  // ðŸ”’ API í˜¸ì¶œì„ í†µí•´ í† í° ìœ íš¨ì„± í™•ì¸\n  hasTokens: async () => {\n    try {\n      const response = await fetch('/api/auth/verify', {\n        method: 'GET',\n        credentials: 'include' // ì¿ í‚¤ í¬í•¨\n      });\n      return response.ok;\n    } catch (error) {\n      console.error('í† í° ê²€ì¦ ì¤‘ ì˜¤ë¥˜:', error);\n      return false;\n    }\n  },\n\n  // JWT í† í° íŒŒì‹± (payload ì¶”ì¶œ)\n  parseJWT: (token) => {\n    try {\n      const base64Url = token.split('.')[1];\n      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(''));\n      return JSON.parse(jsonPayload);\n    } catch (error) {\n      console.error('JWT íŒŒì‹± ì˜¤ë¥˜:', error);\n      return null;\n    }\n  },\n\n  // í† í° ë§Œë£Œ í™•ì¸\n  isTokenExpired: (token) => {\n    if (!token) return true;\n    \n    const decoded = TokenStorage.parseJWT(token);\n    if (!decoded || !decoded.exp) return true;\n    \n    const currentTime = Date.now() / 1000;\n    return decoded.exp < currentTime;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}