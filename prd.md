# 커뮤니티 사이트 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트 목표
- 사용자들이 자유롭게 소통할 수 있는 커뮤니티 플랫폼 개발
- 게시글 작성, 댓글, 좋아요 등의 기본 커뮤니티 기능 제공
- 실시간 소통이 가능한 현대적인 웹 애플리케이션 구축

### 1.2 기술 스택
- **Backend**: Spring Boot 3.x, Spring Security, JPA/Hibernate
- **Frontend**: React 18, Tailwind CSS
- **Database**: MySQL 
- **인증**: oauth2
- **인가**: jwt 
- **Build Tool**: Gradle

## 2. 핵심 기능

### 2.1 사용자 관리
- **회원가입/로그인**
  - 이메일 기반 회원가입
  - 소셜 로그인 (Google) 옵션
  - 이메일 인증 기능
  - 비밀번호 재설정

- **프로필 관리**
  - 프로필 사진 업로드
  - 닉네임, 자기소개 수정
  - 활동 내역 조회

### 2.2 게시판 기능
- **게시글 관리**
  - 게시글 작성/수정/삭제
  - 카테고리별 게시판 구성
  - 이미지 파일 업로드
  - 마크다운 에디터 지원
  - 게시글 검색 기능

- **댓글 시스템**
  - 댓글 작성/수정/삭제
  - 대댓글 기능
  - 댓글 좋아요/싫어요

### 2.3 소셜 기능
- **좋아요/북마크**
  - 게시글 좋아요/싫어요
  - 게시글 북마크
  - 내가 좋아요한 게시글 모음

- **팔로우 시스템**
  - 다른 사용자 팔로우/언팔로우
  - 팔로잉/팔로워 목록
  - 팔로우한 사용자 게시글 피드

### 2.4 관리자 기능
- **사용자 관리**
  - 사용자 목록 조회
  - 사용자 정지/복구
  - 권한 관리

- **게시글 관리**
  - 부적절한 게시글 삭제
  - 신고 처리
  - 공지사항 관리

## 3. 화면 구성

### 3.1 메인 페이지
- 최신 게시글 목록
- 인기 게시글 목록
- 카테고리별 최신 게시글
- 검색 기능

### 3.2 게시판 페이지
- 카테고리별 게시글 목록
- 페이징 처리
- 정렬 기능 (최신순, 인기순, 조회순)
- 필터 기능

### 3.3 게시글 상세 페이지
- 게시글 내용 표시
- 댓글 목록
- 좋아요/북마크 버튼
- 공유 기능

### 3.4 사용자 페이지
- 개인 프로필
- 작성한 게시글 목록
- 댓글 목록
- 좋아요한 게시글 목록

## 4. 데이터베이스 설계

### 4.1 주요 테이블
- **users**: 사용자 정보
- **posts**: 게시글 정보
- **comments**: 댓글 정보
- **categories**: 카테고리 정보
- **likes**: 좋아요 정보
- **follows**: 팔로우 관계
- **bookmarks**: 북마크 정보

### 4.2 ERD 주요 관계
- User 1:N Post
- User 1:N Comment
- Post 1:N Comment
- User M:N User (팔로우)
- User M:N Post (좋아요, 북마크)

## 5. API 설계

### 5.1 인증 API
- `POST /api/auth/register` - 회원가입
- `POST /api/auth/login` - 로그인
- `POST /api/auth/logout` - 로그아웃
- `POST /api/auth/refresh` - 토큰 갱신

### 5.2 게시글 API
- `GET /api/posts` - 게시글 목록 조회
- `GET /api/posts/{id}` - 게시글 상세 조회
- `POST /api/posts` - 게시글 작성
- `PUT /api/posts/{id}` - 게시글 수정
- `DELETE /api/posts/{id}` - 게시글 삭제

### 5.3 댓글 API
- `GET /api/posts/{postId}/comments` - 댓글 목록 조회
- `POST /api/posts/{postId}/comments` - 댓글 작성
- `PUT /api/comments/{id}` - 댓글 수정
- `DELETE /api/comments/{id}` - 댓글 삭제

### 5.4 사용자 API
- `GET /api/users/profile` - 내 프로필 조회
- `PUT /api/users/profile` - 프로필 수정
- `GET /api/users/{id}` - 사용자 정보 조회
- `POST /api/users/{id}/follow` - 팔로우
- `DELETE /api/users/{id}/follow` - 언팔로우

## 6. 비기능 요구사항

### 6.1 보안
- oauth2기반 인증
- CORS 설정
- SQL Injection 방지
- XSS 방지
- CSRF 방지

### 6.2 성능
- 데이터베이스 인덱스 최적화
- 페이징 처리
- 이미지 최적화
- 캐싱 전략

### 6.3 사용성
- 반응형 디자인
- 직관적인 UI/UX
- 빠른 로딩 시간
- 접근성 고려

## 7. 개발 계획

### 7.1 Phase 1 (핵심 기능)
- 사용자 인증 시스템
- 기본 게시판 기능
- 댓글 시스템

### 7.2 Phase 2 (소셜 기능)
- 좋아요/북마크 기능
- 팔로우 시스템
- 검색 기능

### 7.3 Phase 3 (고급 기능)
- 관리자 기능
- 알림 시스템
- 실시간 채팅

## 8. 배포 및 운영

### 8.1 배포 환경

- Docker 컨테이너 사용
- CI/CD 파이프라인 구축

### 8.2 모니터링
- 애플리케이션 로그 관리
- 성능 모니터링
- 에러 추적 시스템

## 9. 예상 일정
- **설계 및 환경 구축**: 1주
- **Phase 1 개발**: 3주
- **Phase 2 개발**: 2주
- **Phase 3 개발**: 2주
- **테스트 및 배포**: 1주

총 예상 기간: 약 9주